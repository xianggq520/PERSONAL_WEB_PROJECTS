webpackJsonp([6],{153:function(n,t,i){i(244);var e=i(16)(i(187),i(263),"data-v-236b224b",null);n.exports=e.exports},169:function(n,t,i){n.exports={default:i(172),__esModule:!0}},172:function(n,t,i){var e=i(3),a=e.JSON||(e.JSON={stringify:JSON.stringify});n.exports=function(n){return a.stringify.apply(a,arguments)}},187:function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=i(169),a=i.n(e),o=i(29),r=i.n(o),A=i(28);i.n(A);t.default={data:function(){return{isPlaying:!1,currentIndex:0,currentTime:0,durationTime:0,playTime:0,newLyric:{},lyric:{lyric:"[00:00.00] 作曲 : 高进\n[00:01.00]"},top:200,list:{},music:{title:"~~",author:"~~",url:"",pic:""}}},beforeCreate:function(){},created:function(){},mounted:function(){this.get(),this.$emit("music",this.music),this.audioEvent(),this.ajaxLyric()},activated:function(){this.ajaxLyric(),this.currentTime=0,this.get()},methods:{audioEvent:function(){var n=document.querySelector("#audio"),t=this;n.addEventListener("loadedmetadata",function(){n.play(),t.isPlaying=!0,A.Indicator.close(),console.info("加载完毕，能播放了")}),n.addEventListener("timeupdate",function(){t.currentTime=this.currentTime}),n.addEventListener("ended",function(){console.log("播放完"),t.isPlaying=!1})},loading:function(){A.Indicator.open({text:"正在缓冲...",spinnerType:"fading-circle"})},togglePlay:function(){var n=document.querySelector("#audio");0==this.isPlaying?(n.play(),this.isPlaying=!0):(n.pause(),this.isPlaying=!1)},prev:function(){},next:function(){},get:function(){var n=this.$route.query.id,t=this;this.loading();var i="http://m.kugou.com/app/i/getSongInfo.php?cmd=playInfo&hash="+n+"&from=mkugou";r.a.get(bird+i).then(function(n){this.list=n.data,t.playTime=this.list.timeLength,t.music={title:t.list.songName,author:t.list.fileName,url:t.list.url,pic:t.list.imgUrl.replace("{size}",400)},A.Indicator.close(),this.$emit("title",this.music.title)}.bind(this)).catch(function(n){console.log(n)})},ajaxLyric:function(){var n=this.$route.query.id,t="http://www.kugou.com/yy/index.php?r=play/getdata&hash="+n;r.a.get(bird+t).then(function(n){this.lyric.lyric=a()(n.data.data.lyrics),this.newLyric=this.parseLyric(n.data.data.lyrics),this.scrollLyrics()}.bind(this)).catch(function(n){console.log(n)})},parseLyric:function(n){for(var t=n.split("\n"),i=/\[\d{0,4}:\d{0,4}.\d{0,4}\]/g,e=[];!i.test(t[0]);)t=t.slice(1);return 0===t[t.length-1].length&&t.pop(),t.forEach(function(n,t,a){var o=n.match(i),r=n.replace(i,"");o.forEach(function(n,t,i){var a=n.slice(1,-1).split(":");e.push([60*parseInt(a[0],10)+parseFloat(a[1]),r])})}),e.sort(function(n,t){return n[0]-t[0]}),e},scrollLyrics:function(){var n=document.querySelector("#audio"),t=document.getElementById("lyriclist"),i=t.getElementsByTagName("li"),e=this;n.addEventListener("timeupdate",function(){for(var n=0,t=e.newLyric.length;n<t;n++)this.currentTime>e.newLyric[n][0]&&(e.top=25*-n,i[n].className="current")})}},components:{}}},224:function(n,t,i){t=n.exports=i(145)(),t.push([n.i,"\n#m-box[data-v-236b224b] {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    float: left;\n    position: relative;\n    min-height: 100%;\n    _height: 100%;\n}\n#m-bg[data-v-236b224b] {\n    width: 100%;\n    background-repeat: no-repeat;\n    position: absolute;\n    height: 100%;\n    min-height: 100%;\n    _height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: -1;\n    background-size: 100% 100%;\n    background-position: center center;\n    opacity: 0.5;\n    transition: opacity 0.3s;\n    transform: scale(1.5);\n    transform-origin: center top;\n    clear: both;\n}\n.roation[data-v-236b224b] {\n    -webkit-transform: rotate(360deg);\n    animation: rotation 10s linear infinite;\n    -moz-animation: rotation 10s linear infinite;\n    -webkit-animation: rotation 10s linear infinite;\n    -o-animation: rotation 10s linear infinite;\n}\n.m-circle[data-v-236b224b] {\n    opacity: 1;\n    z-index: 999;\n    width: 40%;\n    display: block;\n    border-radius: 50%;\n    margin: 0 auto;\n    margin-top: 30%;\n    padding-bottom:20px;\n}\n.m-circle img[data-v-236b224b] {\n    width: 100%;\n    height: 100%;\n    margin: 0 auto;\n    border-radius: 50%;\n    border:20px solid #333;\n    box-sizing: border-box;\n}\n\n/*audio player*/\n#audio-play[data-v-236b224b] {\n    position: fixed;\n    width: 100%;\n    left: 0;\n    padding: 20px 20px;\n    bottom: 0;\n    box-sizing: border-box;\n    box-shadow: 3px 3px 8px #ddd;\n    background: rgba(152, 152, 150, 0.7);\n}\n.progressbar[data-v-236b224b] {\n    margin-top: 10px;\n    width: 100%;\n    height: 3px;\n    background: #666;\n}\n#current_line[data-v-236b224b] {\n    height: 3px;\n    background: #cb5d5d\n}\n#audio-play p i[data-v-236b224b] {\n    color: #333;\n    font-size: 12px;\n}\n.song-title[data-v-236b224b] {\n    text-align: center;\n    font-size: 16px;\n    font-weight: 400;\n    padding: 20px 10px;\n    color: #262424;\n}\n.song-btn button[data-v-236b224b] {\n    width: 33.3%;\n    display: inline-block;\n    margin-left: -4px;\n    text-align: center;\n    padding: 15px 0;\n    background: transparent;\n    border: 0;\n    outline: none;\n    font-size: 30px;\n    color: #262424;\n}\n\n\n","",{version:3,sources:["D:/wamp/www/A-share/Vue-news-red/src/components/MusicPlayer.vue"],names:[],mappings:";AACA;IACI,YAAY;IACZ,aAAa;IACb,iBAAiB;IACjB,YAAY;IACZ,mBAAmB;IACnB,iBAAiB;KACjB,aAAc;CACjB;AACD;IACI,YAAY;IACZ,6BAA6B;IAC7B,mBAAmB;IACnB,aAAa;IACb,iBAAiB;KACjB,aAAc;IACd,gBAAgB;IAChB,OAAO;IACP,QAAQ;IACR,UAAU;IACV,SAAS;IACT,YAAY;IACZ,2BAA2B;IAC3B,mCAAmC;IACnC,aAAa;IACb,yBAAyB;IACzB,sBAAsB;IACtB,6BAA6B;IAC7B,YAAY;CACf;AACD;IACI,kCAAkC;IAClC,wCAAwC;IACxC,6CAA6C;IAC7C,gDAAgD;IAChD,2CAA2C;CAC9C;AACD;IACI,WAAW;IACX,aAAa;IACb,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,eAAe;IACf,gBAAgB;IAChB,oBAAoB;CACvB;AACD;IACI,YAAY;IACZ,aAAa;IACb,eAAe;IACf,mBAAmB;IACnB,uBAAuB;IACvB,uBAAuB;CAC1B;;AAED,gBAAgB;AAChB;IACI,gBAAgB;IAChB,YAAY;IACZ,QAAQ;IACR,mBAAmB;IACnB,UAAU;IACV,uBAAuB;IACvB,6BAA6B;IAC7B,qCAAqC;CACxC;AACD;IACI,iBAAiB;IACjB,YAAY;IACZ,YAAY;IACZ,iBAAiB;CACpB;AACD;IACI,YAAY;IACZ,mBAAmB;CACtB;AACD;IACI,YAAY;IACZ,gBAAgB;CACnB;AACD;IACI,mBAAmB;IACnB,gBAAgB;IAChB,iBAAiB;IACjB,mBAAmB;IACnB,eAAe;CAClB;AACD;IACI,aAAa;IACb,sBAAsB;IACtB,kBAAkB;IAClB,mBAAmB;IACnB,gBAAgB;IAChB,wBAAwB;IACxB,UAAU;IACV,cAAc;IACd,gBAAgB;IAChB,eAAe;CAClB",file:"MusicPlayer.vue",sourcesContent:["\n#m-box[data-v-236b224b] {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    float: left;\n    position: relative;\n    min-height: 100%;\n    _height: 100%;\n}\n#m-bg[data-v-236b224b] {\n    width: 100%;\n    background-repeat: no-repeat;\n    position: absolute;\n    height: 100%;\n    min-height: 100%;\n    _height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: -1;\n    background-size: 100% 100%;\n    background-position: center center;\n    opacity: 0.5;\n    transition: opacity 0.3s;\n    transform: scale(1.5);\n    transform-origin: center top;\n    clear: both;\n}\n.roation[data-v-236b224b] {\n    -webkit-transform: rotate(360deg);\n    animation: rotation 10s linear infinite;\n    -moz-animation: rotation 10s linear infinite;\n    -webkit-animation: rotation 10s linear infinite;\n    -o-animation: rotation 10s linear infinite;\n}\n.m-circle[data-v-236b224b] {\n    opacity: 1;\n    z-index: 999;\n    width: 40%;\n    display: block;\n    border-radius: 50%;\n    margin: 0 auto;\n    margin-top: 30%;\n    padding-bottom:20px;\n}\n.m-circle img[data-v-236b224b] {\n    width: 100%;\n    height: 100%;\n    margin: 0 auto;\n    border-radius: 50%;\n    border:20px solid #333;\n    box-sizing: border-box;\n}\n\n/*audio player*/\n#audio-play[data-v-236b224b] {\n    position: fixed;\n    width: 100%;\n    left: 0;\n    padding: 20px 20px;\n    bottom: 0;\n    box-sizing: border-box;\n    box-shadow: 3px 3px 8px #ddd;\n    background: rgba(152, 152, 150, 0.7);\n}\n.progressbar[data-v-236b224b] {\n    margin-top: 10px;\n    width: 100%;\n    height: 3px;\n    background: #666;\n}\n#current_line[data-v-236b224b] {\n    height: 3px;\n    background: #cb5d5d\n}\n#audio-play p i[data-v-236b224b] {\n    color: #333;\n    font-size: 12px;\n}\n.song-title[data-v-236b224b] {\n    text-align: center;\n    font-size: 16px;\n    font-weight: 400;\n    padding: 20px 10px;\n    color: #262424;\n}\n.song-btn button[data-v-236b224b] {\n    width: 33.3%;\n    display: inline-block;\n    margin-left: -4px;\n    text-align: center;\n    padding: 15px 0;\n    background: transparent;\n    border: 0;\n    outline: none;\n    font-size: 30px;\n    color: #262424;\n}\n\n\n"],sourceRoot:""}])},244:function(n,t,i){var e=i(224);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);i(146)("f973660e",e,!0)},263:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{attrs:{id:"m-box"}},[i("div",{style:{backgroundImage:"url("+n.music.pic+")"},attrs:{id:"m-bg"}}),n._v(" "),i("div",{staticClass:"m-circle"},[i("img",{staticClass:"rat-img roation",attrs:{src:n.music.pic}})]),n._v(" "),i("div",{attrs:{id:"lyric"}},[i("ul",{style:{top:n.top+"px"},attrs:{id:"lyriclist"}},n._l(n.newLyric,function(t,e){return i("li",[n._v("\n                "+n._s(t[1])+"\n            ")])}))]),n._v(" "),i("div",{attrs:{id:"audio-play"}},[i("div",{staticClass:"progressbar"},[i("div",{style:{width:100*n.currentTime/n.playTime+"%"},attrs:{id:"current_line"}})]),n._v(" "),i("audio",{attrs:{id:"audio",src:n.music.url}}),n._v(" "),i("p",[i("i",{staticClass:"fl"},[n._v(n._s(n._f("minutes")(n.currentTime)))]),i("i",{staticClass:"fr"},[n._v(n._s(n._f("minutes")(n.playTime)))])]),n._v(" "),i("h3",{staticClass:"song-title"},[n._v(n._s(n.music.title))]),n._v(" "),i("ul",{staticClass:"song-btn"},[i("button",{staticClass:"iconfont icon-prev"}),n._v(" "),i("button",{class:{"iconfont icon-play":!n.isPlaying,"iconfont icon-pause":n.isPlaying},on:{click:n.togglePlay}}),n._v(" "),i("button",{staticClass:"iconfont icon-next"})])])])},staticRenderFns:[]}}});
//# sourceMappingURL=6.251e97e9ea6121d61ffc.js.map